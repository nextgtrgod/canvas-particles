const w=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}};w();let l={from:o=>o[~~(Math.random()*o.length)],range:(o=0,t=1)=>Math.random()*(t-o)+o},b=(o,t,e,n)=>Math.hypot(Math.abs(e-o),Math.abs(n-t));const M=2*Math.PI;let h=0,f=0;class g{constructor({id:t,x:e,y:n,r:i,v:s,fill:a="#F0F0F0",type:r}){this.id=t,this.x=e,this.y=n,this.r=i,this.v=s,this.fill=a,this.type=r,this.type==="static"&&(this.update=this.draw),this.lines={},this.bounds={top:0,right:0,bottom:0,left:0},this.updateBounds()}checkOffscreen(t,e){this.bounds.left<=0&&this.v.x<=0?this.v.x*=-1:this.bounds.right>=t&&this.v.x>=0&&(this.v.x*=-1),this.bounds.top<=0&&this.v.y<=0?this.v.y*=-1:this.bounds.bottom>=e&&this.v.y>=0&&(this.v.y*=-1)}updateBounds(){this.bounds.top=this.y-this.r,this.bounds.right=this.x+this.r,this.bounds.bottom=this.y+this.r,this.bounds.left=this.x-this.r}checkDots(t,e){for(h=0;h<t.length;h++)if(t[h].id!==this.id&&!t[h].lines[this.id]){if(f=b(this.x,this.y,t[h].x,t[h].y),f<=this.r+t[h].r){if(t[h].type==="static"){this.v.x*=-1,this.v.y*=-1;continue}let n=[{x:this.v.x,y:this.v.y},{x:t[h].v.x,y:t[h].v.y}];this.v.x=n[1].x,this.v.y=n[1].y,t[h].v.x=n[0].x,t[h].v.y=n[0].y;continue}t[h].type!=="static"&&(f<=e?this.lines[t[h].id]={0:{x:this.x,y:this.y},1:{x:t[h].x,y:t[h].y},alpha:(e-f)/(e/2),width:Math.min(e/f,Math.min(this.r,t[h].r)/2)}:delete this.lines[t[h].id])}}update(t,e,n,i,s){this.x+=this.v.x||0,this.y+=this.v.y||0,this.checkOffscreen(e,n),this.updateBounds(),this.checkDots(i,s),this.draw(t)}draw(t){t.beginPath(),t.fillStyle=this.fill,t.arc(this.x,this.y,this.r,0,M),t.fill()}}let y=parseInt(new URL(document.location).searchParams.get("dpr"))||window.devicePixelRatio,d=window.innerWidth,u=window.innerHeight,m=Math.max(d,u)/4;const c=Math.PI;class k{constructor({canvas:t,controls:e}){this.canvas=t,this.controls=e,this.radId=0,this.init();let n=0;window.addEventListener("resize",()=>{clearTimeout(n),n=setTimeout(()=>{this.init(),this.draw()},150)})}init(){d=window.innerWidth,u=window.innerHeight,m=Math.max(d,u)/4,this.canvas.width=d*y,this.canvas.height=u*y,this.ctx=this.canvas.getContext("2d",{alpha:!1}),this.ctx.scale(y,y),this.createDots()}createDots(){this.dots=[];let t=32,e=2,n=d>600?[6,9]:[3,6],i={x:[0+n[1],d-n[1]],y:[0+n[1],u-n[1]],r:n};if(this.controls){let s={x:10,y:10},a=48,r=a/2,x=new g({id:t,type:"static",x:d-(r+s.x),y:0+(r+s.y),r,v:{x:0,y:0},fill:"#000"});i.x[1]-=s.x+a+i.r[1],i.y[0]=s.y+a+i.r[1],this.dots.push(x)}for(let s=0;s<t;s++){let a=l.range(.5,e),r=c/12,x=l.from([l.range(r,c/2-r),l.range(c/2+r,c-r),l.range(c+r,1.5*c-r),l.range(1.5*c+r,2*c-r)]);this.dots.push(new g({id:s,x:l.range(...i.x),y:l.range(...i.y),r:l.range(...i.r),v:{x:a*Math.cos(x),y:a*Math.sin(x)}}))}}draw(){this.ctx.fillStyle="#000",this.ctx.fillRect(0,0,d,u);for(let t=0;t<this.dots.length;t++){this.dots[t].update(this.ctx,d,u,this.dots,m);for(let e in this.dots[t].lines)this.ctx.beginPath(),this.ctx.moveTo(this.dots[t].lines[e][0].x,this.dots[t].lines[e][0].y),this.ctx.lineTo(this.dots[t].lines[e][1].x,this.dots[t].lines[e][1].y),this.ctx.strokeStyle=`rgba(240, 240, 240, ${this.dots[t].lines[e].alpha})`,this.ctx.lineWidth=this.dots[t].lines[e].width/y,this.ctx.stroke()}}update(){this.radId=requestAnimationFrame(()=>this.update()),this.draw()}start(){this.update()}stop(){cancelAnimationFrame(this.radId)}}let v=(()=>{try{return window.self!==window.top}catch{return!0}})(),I=document.getElementById("scene"),p=new k({canvas:I,controls:!v});if(v){document.body.classList.add("is-iframe"),p.draw();let o=["http://localhost:8080","https://nextgtrgod.github.io"];window.addEventListener("message",t=>{if(!!o.includes(t.origin))switch(t.data){case"start":p.start();break;case"stop":p.stop();break}})}else p.start();
