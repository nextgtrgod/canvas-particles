const w=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerpolicy&&(i.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?i.credentials="include":e.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(e){if(e.ep)return;e.ep=!0;const i=s(e);fetch(e.href,i)}};w();let l={from:o=>o[~~(Math.random()*o.length)],range:(o=0,t=1)=>Math.random()*(t-o)+o},b=(o,t,s,n)=>Math.hypot(Math.abs(s-o),Math.abs(n-t));const M=2*Math.PI;let h=0,f=0;class m{constructor({id:t,x:s,y:n,r:e,v:i,fill:a="#F0F0F0",type:r}){this.id=t,this.x=s,this.y=n,this.r=e,this.v=i,this.fill=a,this.type=r,this.type==="static"&&(this.update=this.draw),this.lines=new Map,this.bounds={top:0,right:0,bottom:0,left:0},this.updateBounds()}checkOffscreen(t,s){this.bounds.left<=0&&this.v.x<=0?this.v.x*=-1:this.bounds.right>=t&&this.v.x>=0&&(this.v.x*=-1),this.bounds.top<=0&&this.v.y<=0?this.v.y*=-1:this.bounds.bottom>=s&&this.v.y>=0&&(this.v.y*=-1)}updateBounds(){this.bounds.top=this.y-this.r,this.bounds.right=this.x+this.r,this.bounds.bottom=this.y+this.r,this.bounds.left=this.x-this.r}checkDots(t,s){for(h=0;h<t.length;h++)if(t[h].id!==this.id&&!t[h].lines.get(this.id)){if(f=b(this.x,this.y,t[h].x,t[h].y),f<=this.r+t[h].r){if(t[h].type==="static"){this.v.x*=-1,this.v.y*=-1;continue}let n=[{x:this.v.x,y:this.v.y},{x:t[h].v.x,y:t[h].v.y}];this.v.x=n[1].x,this.v.y=n[1].y,t[h].v.x=n[0].x,t[h].v.y=n[0].y;continue}t[h].type!=="static"&&(f<=s?this.lines.set(t[h].id,{from:[this.x,this.y],to:[t[h].x,t[h].y],alpha:(s-f)/(s/2),width:Math.min(s/f,Math.min(this.r,t[h].r)/2)}):this.lines.delete(t[h].id))}}update(t,s,n,e,i){this.x+=this.v.x||0,this.y+=this.v.y||0,this.checkOffscreen(s,n),this.updateBounds(),this.checkDots(e,i),this.draw(t)}draw(t){t.beginPath(),t.fillStyle=this.fill,t.arc(this.x,this.y,this.r,0,M),t.fill()}}let y=parseInt(new URL(document.location).searchParams.get("dpr"))||window.devicePixelRatio,c=window.innerWidth,u=window.innerHeight,g=Math.max(c,u)/4;const d=Math.PI;class k{constructor({canvas:t,controls:s}){this.canvas=t,this.controls=s,this.radId=0,this.init();let n=0;window.addEventListener("resize",()=>{clearTimeout(n),n=setTimeout(()=>{this.init(),this.draw()},150)})}init(){c=window.innerWidth,u=window.innerHeight,g=Math.max(c,u)/4,this.canvas.width=c*y,this.canvas.height=u*y,this.ctx=this.canvas.getContext("2d",{alpha:!1}),this.ctx.scale(y,y),this.createDots()}createDots(){this.dots=[];let t=32,s=2,n=c>600?[6,9]:[3,6],e={x:[0+n[1],c-n[1]],y:[0+n[1],u-n[1]],r:n};if(this.controls){let i={x:10,y:10},a=48,r=a/2,p=new m({id:t,type:"static",x:c-(r+i.x),y:0+(r+i.y),r,v:{x:0,y:0},fill:"#000"});e.x[1]-=i.x+a+e.r[1],e.y[0]=i.y+a+e.r[1],this.dots.push(p)}for(let i=0;i<t;i++){let a=l.range(.5,s),r=d/12,p=l.from([l.range(r,d/2-r),l.range(d/2+r,d-r),l.range(d+r,1.5*d-r),l.range(1.5*d+r,2*d-r)]);this.dots.push(new m({id:i,x:l.range(...e.x),y:l.range(...e.y),r:l.range(...e.r),v:{x:a*Math.cos(p),y:a*Math.sin(p)}}))}}draw(){this.ctx.fillStyle="#000",this.ctx.fillRect(0,0,c,u);for(let t=0;t<this.dots.length;t++){this.dots[t].update(this.ctx,c,u,this.dots,g);for(let s of this.dots[t].lines.values())this.ctx.beginPath(),this.ctx.moveTo(...s.from),this.ctx.lineTo(...s.to),this.ctx.strokeStyle=`rgba(240, 240, 240, ${s.alpha})`,this.ctx.lineWidth=s.width/y,this.ctx.stroke()}}update(){this.radId=requestAnimationFrame(()=>this.update()),this.draw()}start(){this.update()}stop(){cancelAnimationFrame(this.radId)}}let v=(()=>{try{return window.self!==window.top}catch{return!0}})(),I=document.getElementById("scene"),x=new k({canvas:I,controls:!v});if(v){document.body.classList.add("is-iframe"),x.draw();let o=["http://localhost:8080","https://nextgtrgod.github.io"];window.addEventListener("message",t=>{if(!!o.includes(t.origin))switch(t.data){case"start":x.start();break;case"stop":x.stop();break}})}else x.start();
